<div class="cell-list">
  <!-- animacion de carga para las acciones de editar y borrar -->
  @if (selectIdList == list.id && (loadingListUpdate || loadingListDelete)) {
  <div class="loading-container">
    <div class="spinner"></div>
  </div>
  }@else {
  <!-- El id es para que sepa cual activar-->
  @if (!isEditing || editListId !== list.id) {
  <div class="name-list">
    <h3 (click)="viewDetailsList()" (keydown)="viewDetailsList()">
      {{ list.name }}
    </h3>
    @if (list.userName == userName) {
    <i
      class="fa-solid fa-pencil"
      style="font-size: 0.7em"
      (click)="startEditing(list.id, list.name)"
      (keydown.enter)="startEditing(list.id, list.name)"
      title="Editar nombre de la lista"
    ></i>
    }
  </div>
  }@else if (isEditing && editListId === list.id) {
  <form (submit)="buttonChangeListName(editListName)" class="form-name-edit">
    <input
      type="text"
      [(ngModel)]="editListName"
      name="editListName"
      required
      autofocus
      (click)="$event.stopPropagation()"
      (keydown)="$event.stopPropagation()"
    />
    <div class="edits-button">
      <button type="button" (click)="toggleEditForm()" (keydown.enter)="toggleEditForm()">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <button type="submit" [disabled]="!editListName.trim()">
        <i class="fa-solid fa-check"></i>
      </button>
    </div>
  </form>
  }
  <div class="owner-list">
    Propietario: <span>{{ list.userName }}</span>
  </div>
  @if (list.userName == userName) {
  <div style="display: flex; gap: 1em; margin-top: 10px">
    <i class="fa-solid fa-shield-halved" title="Adminstrador"></i>
    <i
      class="fa-solid fa-trash"
      (click)="buttonDeleteList(list.id)"
      (keydown.enter)="buttonDeleteList(list.id)"
      title="Eliminar lista"
    ></i>
  </div>

  }@else {
  <div style="display: flex; gap: 1em; margin-top: 10px">
    <i class="fa-solid fa-link" title="Lissta compartida"></i>
    <i
      class="fa-solid fa-link-slash"
      (click)="buttonDeleteShare(list.id)"
      (keydown.enter)="buttonDeleteShare(list.id)"
      title="Dejar de compartir"
    ></i>
  </div>
  } }
</div>
